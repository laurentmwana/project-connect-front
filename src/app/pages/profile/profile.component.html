
<div class="container py-12">
  <div class="flex flex-col md:flex-row gap-6">
    <div class="w-full md:w-1/3 min-w-[250px] flex-shrink-0 overflow-hidden">
      <div class="rounded-lg border bg-card text-card-foreground shadow-sm">
        <app-info-user
          [userProfile]="userProfile"
          [userId]="userId"
          [initialIsFollowing]="initialIsFollowing"
          [isOwnProfile]="isOwnProfile"
          (followChange)="onFollowChange($event)"
          (messageClick)="onMessageClick()"
          (editProfileClick)="onEditProfile()"
          (logoutClick)="onLogout()"
        ></app-info-user>
      </div>
    </div>
    <div class="w-full md:w-2/3 overflow-hidden">
      <app-tabs></app-tabs>
    </div>
  </div>
</div>

<div *ngIf="isEditModalOpen" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
  <div class="bg-card p-8 rounded-lg shadow-lg w-full max-w-lg">
    <h2 class="text-2xl font-bold mb-4">Modifier le profil</h2>
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
      <!-- Form fields from the original component -->
      <div class="mb-4">
        <label for="name" class="block text-sm font-medium text-muted-foreground">Nom</label>
        <input type="text" id="name" formControlName="name" class="mt-1 block w-full border border-border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm">
      </div>
      <div class="mb-4">
        <label for="job_title" class="block text-sm font-medium text-muted-foreground">Titre du poste</label>
        <input type="text" id="job_title" formControlName="job_title" class="mt-1 block w-full border border-border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm">
      </div>
      <div class="mb-4">
        <label for="location" class="block text-sm font-medium text-muted-foreground">Localisation</label>
        <input type="text" id="location" formControlName="location" class="mt-1 block w-full border border-border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm">
      </div>
      <div class="mb-4">
        <label for="phone" class="block text-sm font-medium text-muted-foreground">Téléphone</label>
        <input type="text" id="phone" formControlName="phone" class="mt-1 block w-full border border-border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm">
      </div>
      <div class="mb-4">
        <label for="portfolio_url" class="block text-sm font-medium text-muted-foreground">URL du portfolio</label>
        <input type="text" id="portfolio_url" formControlName="portfolio_url" class="mt-1 block w-full border border-border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm">
      </div>
      <div class="mb-4">
        <label for="availability" class="block text-sm font-medium text-muted-foreground">Disponibilité</label>
        <input type="text" id="availability" formControlName="availability" class="mt-1 block w-full border border-border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm">
      </div>
      <div class="mb-4">
        <label for="about" class="block text-sm font-medium text-muted-foreground">À propos</label>
        <textarea id="about" formControlName="about" rows="3" class="mt-1 block w-full border border-border rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary focus:border-primary sm:text-sm"></textarea>
      </div>
      <div class="mb-4">
        <label for="profile_photo" class="block text-sm font-medium text-muted-foreground">Photo de profil</label>
        <input type="file" id="profile_photo" (change)="onFileChange($event)" class="mt-1 block w-full text-sm text-muted-foreground file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90">
      </div>
      <div class="flex justify-end gap-4">
        <button type="button" (click)="isEditModalOpen = false" class="px-4 py-2 rounded-md text-sm font-medium bg-muted text-muted-foreground hover:bg-muted/90">Annuler</button>
        <button type="submit" class="px-4 py-2 rounded-md text-sm font-medium bg-primary text-primary-foreground hover:bg-primary/90" [disabled]="loading">
          <span *ngIf="!loading">Enregistrer</span>
          <span *ngIf="loading">Enregistrement...</span>
        </button>
      </div>
    </form>
  </div>
</div>

